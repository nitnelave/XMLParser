<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Sun Apr 20 21:07:12 CEST 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>com.nitnelave.xmlparser (nitnelave's XML Parser 1.1-SNAPSHOT API)</title>
<meta name="date" content="2014-04-20">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="com.nitnelave.xmlparser (nitnelave\'s XML Parser 1.1-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/nitnelave/xmlparser/package-summary.html">Package</a></li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
<div class="aboutLanguage"><em>XMLParser, 1.1-SNAPSHOT</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Package</li>
<li>Next Package</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/nitnelave/xmlparser/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;com.nitnelave.xmlparser</h1>
<div class="docSummary">
<div class="block">This package aims at simplifying greatly the use of SAX parsers,
 through heavy use of reflection.</div>
</div>
<p>See:&nbsp;<a href="#package_description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/nitnelave/xmlparser/None.html" title="class in com.nitnelave.xmlparser">None</a></td>
<td class="colLast">
<div class="block">Dummy class for default value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/nitnelave/xmlparser/XMLParser.html" title="class in com.nitnelave.xmlparser">XMLParser</a></td>
<td class="colLast">
<div class="block">Generic XML SAX parser.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Enum Summary table, listing enums, and an explanation">
<caption><span>Enum Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Enum</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/nitnelave/xmlparser/XMLNodeArity.html" title="enum in com.nitnelave.xmlparser">XMLNodeArity</a></td>
<td class="colLast">
<div class="block">Enum for <a href="../../../com/nitnelave/xmlparser/XMLNode.html" title="annotation in com.nitnelave.xmlparser"><code>XMLNode</code></a>'s arity.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/nitnelave/xmlparser/XMLNodeType.html" title="enum in com.nitnelave.xmlparser">XMLNodeType</a></td>
<td class="colLast">
<div class="block">Enum for <a href="../../../com/nitnelave/xmlparser/XMLNode.html" title="annotation in com.nitnelave.xmlparser"><code>XMLNode</code></a>'s type.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Exception Summary table, listing exceptions, and an explanation">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/nitnelave/xmlparser/XMLStructureException.html" title="class in com.nitnelave.xmlparser">XMLStructureException</a></td>
<td class="colLast">
<div class="block">Exception raised when registering invalid XML nodes.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Annotation Types Summary table, listing annotation types, and an explanation">
<caption><span>Annotation Types Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Annotation Type</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/nitnelave/xmlparser/XMLNode.html" title="annotation in com.nitnelave.xmlparser">XMLNode</a></td>
<td class="colLast">
<div class="block">
 Annotation to describe an XML node structure.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/nitnelave/xmlparser/XMLProperties.html" title="annotation in com.nitnelave.xmlparser">XMLProperties</a></td>
<td class="colLast">
<div class="block">Annotation to describe XML node properties.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/nitnelave/xmlparser/XMLProperty.html" title="annotation in com.nitnelave.xmlparser">XMLProperty</a></td>
<td class="colLast">
<div class="block">Annotation to describe a single XML node property.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package_description">
<!--   -->
</a>
<h2 title="Package com.nitnelave.xmlparser Description">Package com.nitnelave.xmlparser Description</h2>
<div class="block">This package aims at simplifying greatly the use of SAX parsers,
 through heavy use of reflection. It allows to easily create local AST or to handle the nodes as they come.
 </p>
 <p>
     The advantage of SAX parsers is that the document does not need to be entirely known
     at the time of the parsing; the document is parsed as it is read, which allows for
     streamable documents, such as messages in a network communication.
     The other side of the coin is that to use a SAX parser, many small-scale actions are
     required, such as buffering the text inside a node.
 </p>
 <p>
     This package provides a overlay around the SAX parser, to take care of the finer details,
     storing the nodes and their properties directly in classes using reflection, and telling
     a listener when each node is done parsing. A simple interface using annotation to reflect
     the document structure, along with natural method names will allow a simple parsing in no
     time.
 </p>
 <p/>
 <p>
 The XML file structure is defined by annotations (see <a href="../../../com/nitnelave/xmlparser/XMLNode.html" title="annotation in com.nitnelave.xmlparser"><code>XMLNode</code></a>
 and <a href="../../../com/nitnelave/xmlparser/XMLProperty.html" title="annotation in com.nitnelave.xmlparser"><code>XMLProperty</code></a>)
 on the node classes, that are then registered in the parser.<br/>
 Listeners are simply classes that define the right methods (handles).
 </p>
 <p>
 For the listener's interface, 2 methods are possible:
 <ul>
     <li><code>handleBegin(MyNode n)</code> is called when the <b>opening tag</b> of the node is found.
     The node contains only information about its properties, not its content or sub-nodes.</li>
     <li><code>handle(MyNode n)</code> is called when the <b>closing tag</b> of the node is found.
     All the information about the node is now known.</li>
 </ul><br />
 The methods for every node are all optional. It is entirely possible to decide to handle
 one node in a listener, and another in another class, or to implement only <code>handle()</code> without
 implementing <code>handleBegin()</code>.
 </p>
 <h3>Restrictions</h3>
 <ul>
 <li>The listeners must be registered after all nodes are registered, otherwise the handle methods of the nodes
 added later will be ignored.</li>
 <li>In case of a problem in the XML structure, an <a href="../../../com/nitnelave/xmlparser/XMLStructureException.html" title="class in com.nitnelave.xmlparser"><code>XMLStructureException</code></a> will be
 raised, with a description of the problem in the message.</li>
 </ul>
 <p>
 <h3>Example use</h3>
 We want to parse the following type of XML file:
 <br/>
 <p>
 <pre>
 &lt;Person age="3" name="John"&gt;
     &lt;Child age="2"&gt;Eric&lt;/Child&gt;
     &lt;Child&gt;Paul&lt;/Child&gt;
 &lt;/Person&gt;
 </pre>
 </p>
 <p/>
 For this, we create the Person class, as such:
 <pre>
     // Here, the "name" attribute for XMLNode is not necessary, as it is the same as the class name.
     &#64;XMLNode(name = "Person", type = XMLNodeType.ROOT)
     &#64;XMLProperties({&#64;XMLProperty(name = "Age", key = "age", valueType = Integer.class, required = true),
                     &#64;XMLProperty(name = "Name", key = "name", valueType = String.class, required = true)})
     public class Person
     {
         Collection&lt;Child&gt; children;
           ...
         public void setAge(Integer age) { ... }
         public void setName(String name) { ... }
           ...
         public void addChild(Child c) { children.add(c); }
     }
 </pre>
 And the Child class:
 <pre>
     // Although not required, the parentNode attribute allows to check that the direct parent is a person.
     // That way, the &lt;Child&gt; node cannot be parsed at the root, or as a subnode of any other node.
     // The "single" attribute defaults to false, so it is not necessary here
     &#64;XMLNode(parentNode = Person.class, contentType = String.class, single = false)
     &#64;XMLProperty(name = "Age", key = "age", valueType = Integer.class)
     public class Child
     {
         String name;
           ...
         public void setContent(String content) { name = content; }
         public void setAge(Integer age) { ... }
     }
 </pre>
 Let's add some error checking, in case of unrecognized nodes:
 <pre>
     &#64;XMLNode(type = XMLNodeType.DEFAULT)
     public class UnknownNode
     {
         String name;
         public void setName(String name) { this.name = name; };
         public String getName() { return name; };
     }
 </pre>
 The listener for the events:
 <pre>
     public class Listener
     {
         public void handleBegin(Person p) { // got opening &lt;Person&gt; }
         public void handle(Person p) { // got closing &lt;/Person&gt; }
         public void handle(Child c) { // got a whole &lt;Child&gt;&lt;/Child&gt; subtree }
         public void handle(UnknownNode n) { System.err.println("Unknown node: " + n.getName()); }
           ...
     }
 </pre>
 Then we register the nodes, the listener, and we start parsing:
 <pre>
     XMLParser parser = new XMLParser();
     parser.registerNodes(Person.class, Child.class);
     parser.registerListener(new Handler());
     parser.parse(inputstream);
 </pre>
 <p/>
 <p>
 And that's it! You can add more nodes, more properties, a more complex hierarchy, but it's as simple as that.
 </p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>nitnelave</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/nitnelave/xmlparser/XMLParser.html" title="class in com.nitnelave.xmlparser"><code>XMLParser</code></a>, 
<a href="../../../com/nitnelave/xmlparser/XMLNode.html" title="annotation in com.nitnelave.xmlparser"><code>XMLNode</code></a>, 
<a href="../../../com/nitnelave/xmlparser/XMLProperty.html" title="annotation in com.nitnelave.xmlparser"><code>XMLProperty</code></a></dd></dl>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/nitnelave/xmlparser/package-summary.html">Package</a></li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
<div class="aboutLanguage"><em>XMLParser, 1.1-SNAPSHOT</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Package</li>
<li>Next Package</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/nitnelave/xmlparser/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014. All rights reserved.</small></p>
</body>
</html>